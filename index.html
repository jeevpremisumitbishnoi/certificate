<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>प्रमाण पत्र Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#eee;
}

.container{
  display:flex;
  flex-wrap:wrap;
}

.form{
  width:30%;
  min-width:260px;
  background:#fff;
  padding:15px;
}

.form input, .form button{
  width:100%;
  margin:8px 0;
}

.preview{
  width:70%;
  padding:20px;
}

.certificate{
  background:#fff;
  border:8px solid green;
  padding:25px;
  text-align:center;
  position:relative;
}

.logo-left{
  position:absolute;
  top:20px;
  left:20px;
  width:80px;
}

.logo-right{
  position:absolute;
  top:20px;
  right:20px;
  width:80px;
}

.user-photo{
  width:140px;
  margin:15px auto;
  display:block;
}

.buttons{
  margin-top:15px;
}

.buttons button{
  padding:10px;
  margin:5px;
  background:green;
  color:white;
  border:none;
  font-size:16px;
}
</style>
</head>

<body>

<div class="container">

  <!-- USER FORM -->
  <div class="form">
    <h3>User Details</h3>

    <label>User Name</label>
    <input type="text" id="username" oninput="updateName()" placeholder="Enter Name">

    <label>User Photo</label>
    <input type="file" accept="image/*" onchange="loadUserPhoto(event)">
  </div>

  <!-- CERTIFICATE -->
  <div class="preview">

    <div class="certificate" id="certificate">

      <!-- FIXED LOGOS -->
      <img src="left-logo.png" class="logo-left">
      <img src="right-logo.png" class="logo-right">

      <h1>प्रमाण पत्र</h1>
      <p>खेजड़ी बचाओ – पर्यावरण बचाओ अभियान</p>

      <img id="userPhoto" class="user-photo">

      <h2 id="nameText">User Name</h2>

      <p>
        यह प्रमाणित किया जाता है कि उपरोक्त व्यक्ति ने  
        पर्यावरण संरक्षण अभियान में सक्रिय सहभागिता निभाई।
      </p>

      <p><b>दिनांक:</b> 2 फरवरी 2026</p>
      <p><b>स्थान:</b> बीकानेर</p>

    </div>

    <div class="buttons">
      <button onclick="downloadImage()">IMAGE SAVE</button>
      <button onclick="shareCertificate()">SHARE</button>
    </div>

  </div>
</div>

<script>
function updateName(){
  document.getElementById("nameText").innerText =
    document.getElementById("username").value || "User Name";
}

function loadUserPhoto(event){
  document.getElementById("userPhoto").src =
    URL.createObjectURL(event.target.files[0]);
}

function downloadImage(){
  html2canvas(document.getElementById("certificate")).then(canvas=>{
    const link = document.createElement("a");
    link.download = "certificate.png";
    link.href = canvas.toDataURL();
    link.click();
  });
}

function shareCertificate(){
  html2canvas(document.getElementById("certificate")).then(canvas=>{
    canvas.toBlob(blob=>{
      const file = new File([blob],"certificate.png",{type:"image/png"});
      if(navigator.share){
        navigator.share({
          files:[file],
          title:"Certificate",
          text:"Mera Certificate"
        });
      }else{
        alert("Share supported nahi hai");
      }
    });
  }
                                                          );
}
</script>

</body>
</html>
